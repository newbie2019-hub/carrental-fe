(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"4ceb":function(e,t,a){},b489:function(e,t,a){"use strict";a("4ceb")},eb2c:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Sidebar"),a("Navbar"),a("div",{staticClass:"content-container"},[a("router-view",{attrs:{name:"userRentals"}}),a("router-view",{attrs:{name:"userRents"}}),a("router-view",{attrs:{name:"userCars"}})],1)],1)},r=[],n=a("1da1"),i=(a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"navigation"},[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("div",{staticClass:"d-flex align-items-center"},[a("b-avatar",{attrs:{variant:"info",src:"https://be-aclc-carrental.herokuapp.com/uploads/"+e.user.info.image}}),a("div",{staticClass:"d-flex flex-column ms-2 lh-0"},[a("h6",[e._v(e._s(e.user.info.first_name)+" "+e._s(e.user.info.last_name))]),a("p",[a("small",[e._v(e._s(e.user.email))])])])],1),a("div",[a("button",{staticClass:"btn btn-toggle",attrs:{id:"btn-toggle"},on:{click:function(t){return t.preventDefault(),e.toggleSideNav.apply(null,arguments)}}},[a("i",{staticClass:"bi bi-list bi-2x"})])])])])])}),o=[],l=a("5530"),c=a("2f62"),u={data:function(){return{data:{id:"",first_name:"",middle_name:"",last_name:"",gender:"",email:"",password:""},isLoading:!1}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.checkAuthUser();case 2:e.setValues();case 3:case"end":return t.stop()}}),t)})))()},computed:Object(l["a"])({},Object(c["c"])("auth",["user"])),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(c["b"])("auth",["checkAuthUser"])),Object(c["b"])("auth",["logoutAuthUser"])),{},{toggleSideNav:function(){var e=document.getElementById("sidenav");e.classList.toggle("toggleNav")},logout:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.logoutAuthUser();case 3:a=t.sent,200==a.status&&e.$router.push("/"),e.isLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},setValues:function(){this.data.id=this.user.id,this.data.first_name=this.user.info.first_name,this.data.middle_name=this.user.info.middle_name,this.data.last_name=this.user.info.last_name,this.data.contact_number=this.user.info.contact_number,this.data.gender=this.user.info.gender,this.data.email=this.user.email},updateAccount:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$store.dispatch("auth/updateUserAccount",e.data);case 3:if(a=t.sent,200!=a.status){t.next=9;break}return t.next=7,e.$store.dispatch("auth/checkAuthUser");case 7:e.$bvModal.hide("settingsModal"),e.$toast.success("Account Info updated successfully!");case 9:e.isLoading=!1;case 10:case"end":return t.stop()}}),t)})))()}})},d=u,m=(a("b489"),a("2877")),f=Object(m["a"])(d,i,o,!1,null,null,null),p=f.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidenav",attrs:{id:"sidenav"}},[a("p",{staticClass:"mt-5 mb-4 text-white text-center fw-bolder"},[e._v("MANAGEMENT")]),a("router-link",{staticClass:"bg-transparent",attrs:{to:"/"}},[a("i",{staticClass:"bi bi-geo-fill"}),e._v(" Home")]),a("router-link",{attrs:{to:"/user/rentals"}},[a("i",{staticClass:"bi bi-bookmarks"}),e._v(" Rentals")]),a("router-link",{attrs:{to:"/user/cars"}},[a("i",{staticClass:"bi bi-plus-circle"}),e._v(" Cars")]),a("router-link",{attrs:{to:"/user/rents"}},[a("i",{staticClass:"bi bi-cash-coin"}),e._v(" Car Rents")]),a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.setValues(),e.$bvModal.show("settingsModal")}}},[a("i",{staticClass:"bi bi-tools"}),e._v(" Settings")]),a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$bvModal.show("logoutModal")}}},[a("i",{staticClass:"bi bi-x-circle"}),e._v(" Log-out")]),a("b-modal",{attrs:{id:"logoutModal",centered:"",title:"Logout"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return s()}}},[e._v(" Cancel ")]),a("b-button",{attrs:{variant:"danger",disabled:e.isLoading},on:{click:function(t){return t.preventDefault(),e.logout.apply(null,arguments)}}},[e._v(" Logout ")])]}}])},[a("p",{staticClass:"my-4"},[e._v("Are you sure you want to log-out?")])]),a("b-modal",{attrs:{id:"settingsModal",scrollable:"",centered:"",title:"Account Settings"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("b-button",{attrs:{variant:"primary",size:"sm",disabled:e.isLoading},on:{click:function(e){return s()}}},[e._v(" Cancel ")]),a("b-button",{attrs:{variant:"success",size:"sm",disabled:e.isLoading},on:{click:function(t){return t.preventDefault(),e.updateAccount.apply(null,arguments)}}},[e._v(" Update ")])]}}])},[a("div",{staticClass:"row pe-4 ps-4 pt-2 pb-2"},[a("div",{staticClass:"col"},[a("label",{attrs:{for:"item"}},[e._v("Profile Image")]),a("VueFileAgent",{ref:"vueFileAgent",attrs:{multiple:!1,maxSize:"3MB",deletable:!0,accept:"image/*,",theme:"list",errorText:{type:"Invalid file type. Only image file is allowed",size:"Image should not exceed 3MB in size"}},on:{select:function(t){return e.filesSelected(t)},beforedelete:function(t){return e.onBeforeDelete(t)},delete:function(t){return e.fileDeleted(t)}},model:{value:e.fileRecords,callback:function(t){e.fileRecords=t},expression:"fileRecords"}}),a("small",{staticClass:"text-muted"},[e._v("This will replace your existing image if you have")]),a("label",{attrs:{for:"item"}},[e._v("First Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.first_name,expression:"data.first_name"}],staticClass:"form-control",attrs:{id:"item",type:"text",placeholder:"","aria-label":"First Name"},domProps:{value:e.data.first_name},on:{input:function(t){t.target.composing||e.$set(e.data,"first_name",t.target.value)}}}),a("label",{attrs:{for:"remarks"}},[e._v("Middle Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.middle_name,expression:"data.middle_name"}],staticClass:"form-control",attrs:{id:"remarks",type:"text",placeholder:"","aria-label":"Middle Name"},domProps:{value:e.data.middle_name},on:{input:function(t){t.target.composing||e.$set(e.data,"middle_name",t.target.value)}}}),a("label",{attrs:{for:"remarks"}},[e._v("Last Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.last_name,expression:"data.last_name"}],staticClass:"form-control",attrs:{id:"remarks",type:"text",placeholder:"","aria-label":"Last Name"},domProps:{value:e.data.last_name},on:{input:function(t){t.target.composing||e.$set(e.data,"last_name",t.target.value)}}}),a("label",{attrs:{for:"remarks"}},[e._v("Contact Number")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.contact_number,expression:"data.contact_number"}],staticClass:"form-control",attrs:{id:"remarks",type:"text",placeholder:"","aria-label":"Last Name"},domProps:{value:e.data.contact_number},on:{input:function(t){t.target.composing||e.$set(e.data,"contact_number",t.target.value)}}}),a("label",{attrs:{for:"gender"}},[e._v("Select Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.data.gender,expression:"data.gender"}],staticClass:"form-select",attrs:{id:"gender"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.data,"gender",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Gender")]),a("option",{attrs:{value:"Male"}},[e._v("Male")]),a("option",{attrs:{value:"Female"}},[e._v("Female")])]),a("label",{attrs:{for:"email"}},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.email,expression:"data.email"}],staticClass:"form-control",attrs:{id:"email",type:"text",placeholder:"","aria-label":"Email"},domProps:{value:e.data.email},on:{input:function(t){t.target.composing||e.$set(e.data,"email",t.target.value)}}}),a("label",{attrs:{for:"password"}},[e._v("Password ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.password,expression:"data.password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"","aria-label":"Password"},domProps:{value:e.data.password},on:{input:function(t){t.target.composing||e.$set(e.data,"password",t.target.value)}}}),a("label",{staticClass:"text-muted"},[a("small",[e._v("Leave empty if you dont want to make changes")])])],1)])]),a("div",{staticClass:"closenav",attrs:{id:"closenav"},on:{click:function(t){return t.preventDefault(),e.toggleSideNav.apply(null,arguments)}}},[a("p",[e._v("X")])])],1)},h=[],g=(a("4de4"),a("99af"),a("a434"),a("c1df")),b=a.n(g),_={data:function(){return{data:{id:"",first_name:"",middle_name:"",last_name:"",gender:"",email:"",password:""},fileRecordsForUpload:[],fileRecords:[],isLoading:!1}},filters:{moment:function(e){return b()(e).format("MMMM DD, YYYY")}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.checkAuthUser();case 2:e.setValues();case 3:case"end":return t.stop()}}),t)})))()},computed:Object(l["a"])({},Object(c["c"])("auth",["user"])),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(c["b"])("auth",["checkAuthUser"])),Object(c["b"])("auth",["logoutAuthUser"])),{},{filesSelected:function(e){var t=e.filter((function(e){return!e.error}));this.fileRecordsForUpload=this.fileRecordsForUpload.concat(t)},fileDeleted:function(e){var t=this.fileRecordsForUpload.indexOf(e);-1!==t&&this.fileRecordsForUpload.splice(t,1)},onBeforeDelete:function(e){var t=this.fileRecordsForUpload.indexOf(e);if(-1!==t){this.fileRecordsForUpload.splice(t,1);var a=this.fileRecords.indexOf(e);-1!==a&&this.fileRecords.splice(a,1)}},toggleSideNav:function(){var e=document.getElementById("sidenav");e.classList.toggle("toggleNav")},logout:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.logoutAuthUser();case 2:a=t.sent,200==a.status&&e.$router.push("/");case 4:case"end":return t.stop()}}),t)})))()},setValues:function(){this.data.id=this.user.id,this.data.first_name=this.user.info.first_name,this.data.middle_name=this.user.info.middle_name,this.data.last_name=this.user.info.last_name,this.data.contact_number=this.user.info.contact_number,this.data.gender=this.user.info.gender,this.data.email=this.user.email},updateAccount:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoading=!0,!(e.fileRecordsForUpload.length>0)){t.next=6;break}return t.next=4,e.$refs.vueFileAgent.upload("http://127.0.0.1:8000/api/user/uploadFeaturedImage?token="+localStorage.getItem("auth"),{"X-Requested-With":"XMLHttpRequest"},e.fileRecordsForUpload);case 4:a=t.sent,e.data.img=a[0].data;case 6:return t.next=8,e.$store.dispatch("auth/updateUserAccount",e.data);case 8:if(s=t.sent,200!=s.status){t.next=14;break}return t.next=12,e.$store.dispatch("auth/checkAuthUser");case 12:e.$bvModal.hide("settingsModal"),e.$toast.success("Account Info updated successfully!");case 14:e.isLoading=!1;case 15:case"end":return t.stop()}}),t)})))()}}),watch:{}},w=_,x=Object(m["a"])(w,v,h,!1,null,null,null),k=x.exports,C={mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return document.title="User Dashboard",t.next=3,e.$store.dispatch("auth/checkAuthUser");case 3:case"end":return t.stop()}}),t)})))()},components:{Navbar:p,Sidebar:k}},R=C,y=Object(m["a"])(R,s,r,!1,null,null,null);t["default"]=y.exports}}]);
//# sourceMappingURL=about.1bb27e80.js.map